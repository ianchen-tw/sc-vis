{"version":3,"sources":["components/ParentScopeNode.js","lib/scope.js","lib/runRecord.js","lib/renderer.js","components/Visualize.js","lib/layout.js","components/Header.js","components/App.js","index.js"],"names":["ParentScopeNode","data","className","style","width","label","type","position","id","ScopeHistory","start","parent","this","lifespan","end","loc","col","children","addParent","Error","push","reportEndTimeToParent","addEndTime","console","log","arr","forEach","c","export","defaultRunRecords","time","desc","genHistoryFromRunRecords","records","scopes","rootScope","getScope","record","parentScope","scope","Scope","startNodeId","endNodeId","Node","r","row","x","y","EdgeStyles","Object","freeze","startToEnd","stroke","strokeWidth","forkStart","forkEnd","Edge","source","target","sourceHandle","targetHandle","animated","arrowHeadType","DefaultNodeRenderer","renderResult","scopeStart","scopeEnd","ParentChildEdgeRender","childScope","rederResult","childStartEdge","childEndEdge","NodeLifetimeEdgeRender","customEdges","customNodeTypes","Visualize","runRecords","r2","root_scope","next_col","give_col","arrangeCols","items","nodeRenderer","nodeLifetimeEdgeRender","parentChildEdgeRender","visitScope","ScopeRenderVisitor","edgeTypes","nodeTypes","elements","Logo","text","UploadFileButton","onRecordsUpdate","hiddenFileInput","useRef","onRecordDataUploaded","file","a","JSON","parse","onClick","current","click","ref","onChange","e","files","GitHubLink","rel","href","Header","App","useState","setRecords","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.512136a5.chunk.js","sourcesContent":["import React from \"react\"\nimport { Handle } from \"react-flow-renderer\"\nimport PropTypes from \"prop-types\"\n\nconst ParentScopeNode = ({ data }) => {\n  return (\n    <div\n      className=\"px-4 py-2 bg-white text-center text-black-400 rounded ring \"\n      style={{ width: \"160px\" }}\n    >\n      <div>{data.label}</div>\n      <Handle type=\"source\" position=\"right\" id=\"fork-start\" />\n      <Handle type=\"target\" position=\"right\" id=\"fork-end\" />\n\n      <Handle type=\"target\" position=\"top\" id=\"top\" />\n      <Handle type=\"source\" position=\"bottom\" id=\"bottom\" />\n    </div>\n  )\n}\n\nParentScopeNode.propTypes = {\n  data: PropTypes.any,\n}\n\nexport default ParentScopeNode\n","class ScopeHistory {\n  constructor(id, start, parent) {\n    this.id = id\n    this.lifespan = {\n      start: start,\n      end: null,\n    }\n\n    // Location used for rendering\n    // a scope would generate two nodes on the visualization process\n    this.loc = {\n      col: null,\n    }\n    this.children = []\n    this.parent = null\n\n    this.addParent(parent)\n  }\n\n  addParent(parent) {\n    if (parent === null) {\n      return\n    }\n    if (parent.lifespan.start <= this.lifespan.start) {\n      this.parent = parent\n      this.parent.children.push(this)\n      this.reportEndTimeToParent()\n    } else {\n      throw Error(\n        \"Cannot add child start earlier than parent, \",\n        `child_start: ${this.lifespan.start}`,\n        `parent_start: ${parent.lifespan.start}`\n      )\n    }\n  }\n\n  // Parent's lifespan must contain child's\n  reportEndTimeToParent() {\n    if (this.lifespan.end !== null && this.parent !== null) {\n      this.parent.addEndTime(this.lifespan.end)\n    }\n  }\n\n  addEndTime(end) {\n    if (end > this.lifespan.end || this.lifespan.end === null) {\n      console.log(\n        `update end time of ${this.id} from ${this.lifespan.end} to ${end}`\n      )\n      this.lifespan.end = end\n    }\n    this.reportEndTimeToParent()\n  }\n  export() {\n    let arr = []\n    this.children.forEach((c) => {\n      arr.push(c.export())\n    })\n    return {\n      id: this.id,\n      start: this.lifespan.start,\n      end: this.lifespan.end,\n      loc: this.loc,\n      children: arr,\n    }\n  }\n}\n\nexport const Scope = (id, start, parent = null) => {\n  let s = new ScopeHistory(id, start, parent)\n  return s\n}\n","import { Scope } from \"./scope\"\n\nexport const defaultRunRecords = [\n  { time: 0, id: \"t0\", desc: \"created\", parent: null },\n  { time: 1, id: \"n1\", desc: \"created\", parent: \"t0\" },\n  { time: 2, id: \"n2\", desc: \"created\", parent: \"t0\" },\n  { time: 2, id: \"t1\", desc: \"created\", parent: \"n1\" },\n  { time: 3, id: \"t2\", desc: \"created\", parent: \"n1\" },\n  { time: 4, id: \"t1\", desc: \"exited\", parent: \"n1\" },\n  { time: 4, id: \"n2\", desc: \"exited\", parent: \"t0\" },\n  { time: 5, id: \"t2\", desc: \"exited\", parent: \"n1\" },\n  { time: 5, id: \"n1\", desc: \"exited\", parent: \"t0\" },\n  { time: 6, id: \"n1\", desc: \"exited\", parent: \"t0\" },\n]\n\nexport const validateRunRecords = (runRecords) => {\n  console.log(\"start validate\")\n  runRecords.forEach((record) => {\n    record\n  })\n  return true\n}\n\nexport const genHistoryFromRunRecords = (records) => {\n  let scopes = {}\n\n  // currently we only allow one root\n  let rootScope = null\n\n  const getScope = (id) => {\n    if (!id || id === \"null\") {\n      return null\n    }\n    return scopes[id]\n  }\n\n  records.forEach((record) => {\n    if (record.desc === \"created\") {\n      let parentScope = getScope(record.parent)\n      let scope = Scope(record.id, record.time, parentScope)\n      scopes[scope.id] = scope\n      if (parentScope === null) {\n        rootScope = scope\n      }\n    } else if (record.desc === \"exited\") {\n      let scope = getScope(record.id)\n      scope.addEndTime(record.time)\n    } else {\n      console.log(`unknown desc: ${record}`)\n    }\n  })\n  return rootScope\n}\n","const startNodeId = (scope) => `${scope.id}s`\nconst endNodeId = (scope) => `${scope.id}e`\n\nconst locForCol = (c) => c * 150\nconst locForRow = (r) => r * 100\n\nconst Node = ({ id, desc, row, col, type = \"parentScope\" }) => {\n  return {\n    id: id,\n    type: type,\n    data: { label: desc },\n    position: { x: locForCol(col), y: locForRow(row) },\n  }\n}\n\nconst EdgeStyles = Object.freeze({\n  startToEnd: {\n    stroke: \"#6B7280\",\n    strokeWidth: \"2\",\n  },\n  forkStart: {\n    stroke: \"#3B82F6\",\n  },\n  forkEnd: {\n    stroke: \"#3B82F6\",\n  },\n})\n\nconst Edge = ({\n  source,\n  target,\n  sourceHandle,\n  targetHandle,\n  style,\n  animated = true,\n}) => {\n  return {\n    id: `e${source}-${target}`,\n    source: source,\n    target: target,\n    sourceHandle: sourceHandle,\n    targetHandle: targetHandle,\n    type: \"step\",\n    animated: animated,\n    style: EdgeStyles[style],\n    arrowHeadType: \"arrow\",\n  }\n}\n\nconst DefaultNodeRenderer = (scope, renderResult) => {\n  let scopeStart = Node({\n    id: startNodeId(scope),\n    desc: `${scope.id} start`,\n    row: scope.lifespan.start,\n    col: scope.loc.col,\n  })\n  let scopeEnd = Node({\n    id: endNodeId(scope),\n    desc: `${scope.id} end`,\n    row: scope.lifespan.end,\n    col: scope.loc.col,\n  })\n  renderResult.push(scopeStart, scopeEnd)\n}\n\nconst ParentChildEdgeRender = (parentScope, childScope, rederResult) => {\n  // parent scope start node to child start\n  let childStartEdge = Edge({\n    source: startNodeId(parentScope),\n    target: startNodeId(childScope),\n    sourceHandle: \"fork-start\",\n    targetHandle: \"top\",\n    style: \"forkStart\",\n  })\n  // child end node to parent end node\n  let childEndEdge = Edge({\n    source: endNodeId(childScope),\n    target: endNodeId(parentScope),\n    sourceHandle: \"bottom\",\n    targetHandle: \"fork-end\",\n    style: \"forkEnd\",\n  })\n  rederResult.push(childStartEdge, childEndEdge)\n}\n\nconst NodeLifetimeEdgeRender = (scope, rederResult) => {\n  let startToEnd = Edge({\n    source: startNodeId(scope),\n    target: endNodeId(scope),\n    sourceHandle: \"bottom\",\n    targetHandle: \"top\",\n    style: \"startToEnd\",\n    animated: false,\n  })\n  rederResult.push(startToEnd)\n}\n\n// Traverse the whole tree and call renderers\nconst ScopeRenderVisitor = (\n  root_scope,\n  nodeRenderer,\n  nodeLifetimeEdgeRender,\n  parentChildEdgeRender\n) => {\n  let renderResult = []\n  const visitScope = (scope) => {\n    nodeRenderer(scope, renderResult)\n    nodeLifetimeEdgeRender(scope, renderResult)\n    scope.children.forEach((childScope) => {\n      visitScope(childScope)\n      parentChildEdgeRender(scope, childScope, renderResult)\n    })\n  }\n  visitScope(root_scope)\n  return renderResult\n}\n\nexport const getScopeRenderResult = (rootScope) => {\n  return ScopeRenderVisitor(\n    rootScope,\n    DefaultNodeRenderer,\n    NodeLifetimeEdgeRender,\n    ParentChildEdgeRender\n  )\n}\n","import React from \"react\"\nimport ReactFlow, { MiniMap, Controls } from \"react-flow-renderer\"\nimport PropTypes from \"prop-types\"\n\nimport ParentScopeNode from \"./ParentScopeNode\"\n\nimport { genHistoryFromRunRecords } from \"../lib/runRecord\"\nimport { arrangeCols } from \"../lib/layout\"\nimport { getScopeRenderResult } from \"../lib/renderer\"\n\nconst customEdges = {}\nconst customNodeTypes = {\n  parentScope: ParentScopeNode,\n}\n\nconst Visualize = ({ runRecords }) => {\n  let r2 = genHistoryFromRunRecords(runRecords)\n  arrangeCols(r2)\n  let items = getScopeRenderResult(r2)\n  return (\n    <div className=\"border-2 border-blue-200 w-full h-full\">\n      <ReactFlow\n        edgeTypes={customEdges}\n        nodeTypes={customNodeTypes}\n        elements={items}\n      >\n        {/* <Background variant=\"dots\" gap={50} size={1} /> */}\n        <MiniMap />\n        <Controls />\n      </ReactFlow>\n    </div>\n  )\n}\nVisualize.propTypes = {\n  runRecords: PropTypes.array,\n}\n\nexport default Visualize\n","// arrange layout for a scope\nexport const arrangeCols = (root_scope) => {\n  let next_col = 1\n\n  let give_col = (scope) => {\n    scope.loc.col = next_col\n    next_col++\n    scope.children.forEach((childScope) => {\n      give_col(childScope)\n    })\n  }\n  give_col(root_scope)\n}\n","import { GoMarkGithub, GoCloudUpload } from \"react-icons/go\"\nimport { React, useRef } from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport { validateRunRecords } from \"../lib/runRecord\"\n\nconst LogoText = \"SC Visualizer\"\n\nconst Header = ({ onRecordsUpdate }) => {\n  return (\n    <header className=\"pt-5\">\n      <div className=\"max-w-container flex items-center m-2\">\n        <div className=\"flex-none\">\n          <Logo text={LogoText} />\n        </div>\n        <div className=\"flex-grow flex justify-end\">\n          <UploadFileButton onRecordsUpdate={onRecordsUpdate} />\n          <GitHubLink />\n        </div>\n      </div>\n    </header>\n  )\n}\nHeader.propTypes = {\n  onRecordsUpdate: PropTypes.func,\n}\n\nconst Logo = ({ text }) => {\n  return (\n    <div className=\"font-black text-extralbold text-4xl antialiased\">\n      <span className=\"bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-blue-500\">\n        {text}\n      </span>\n    </div>\n  )\n}\nLogo.propTypes = {\n  text: PropTypes.string,\n}\n\nconst UploadFileButton = ({ onRecordsUpdate }) => {\n  const hiddenFileInput = useRef(null)\n\n  let onRecordDataUploaded = async (file) => {\n    let records\n    try {\n      records = JSON.parse(await file.text())\n    } catch (err) {\n      console.log(\"cannot read text of file\")\n      return\n    }\n    if (!validateRunRecords(records)) {\n      console.log(\"validation failed\")\n      return\n    }\n    onRecordsUpdate(records)\n  }\n  return (\n    <>\n      <button\n        className=\"px-3 text-2xl hover:text-gray-500 flex\"\n        onClick={() => hiddenFileInput.current.click()}\n      >\n        <GoCloudUpload />\n      </button>\n      <input\n        className=\"hidden\"\n        ref={hiddenFileInput}\n        type=\"file\"\n        onChange={(e) => {\n          onRecordDataUploaded(e.target.files[0])\n        }}\n      />\n    </>\n  )\n}\nUploadFileButton.propTypes = {\n  onRecordsUpdate: PropTypes.func,\n}\n\nconst GitHubLink = () => (\n  <a\n    className=\"hover:text-gray-500 antialiased px-3 text-2xl flex\"\n    target=\"_blank\"\n    rel=\"noreferrer\"\n    href=\"https://github.com/ianchen-tw/sc-vis\"\n  >\n    <GoMarkGithub />\n  </a>\n)\n\nexport default Header\n","import React from \"react\"\nimport Visualize from \"./Visualize\"\nimport Header from \"./Header\"\nimport { useState } from \"react\"\n\nimport { defaultRunRecords } from \"../lib/runRecord\"\n\nconst App = () => {\n  const [records, setRecords] = useState(defaultRunRecords)\n\n  return (\n    <div className=\"container mx-auto px-4 h-screen flex flex-col\">\n      <div className=\"flex-none\">\n        <Header onRecordsUpdate={(data) => setRecords(data)} />\n      </div>\n      <div className=\"flex-grow\">\n        <Visualize runRecords={records} />\n      </div>\n    </div>\n  )\n}\n\nexport default App\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport App from \"./components/App\"\n\nimport \"./index.css\"\n\nReactDOM.render(<App />, document.getElementById(\"root\"))\n"],"sourceRoot":""}